"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1477],{10:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"Guide to using Docusaurus with Material UI","metadata":{"permalink":"/blog/Guide to using Docusaurus with Material UI","editUrl":"https://github.com/Boston343/web-dev-docs/blog/2023-01-07-materialui-with-docusaurus/index.mdx","source":"@site/blog/2023-01-07-materialui-with-docusaurus/index.mdx","title":"Guide: Docusaurus with Material UI","description":"","date":"2023-01-07T00:00:00.000Z","formattedDate":"January 7, 2023","tags":[{"label":"material ui","permalink":"/blog/tags/material-ui"},{"label":"material","permalink":"/blog/tags/material"},{"label":"docusaurus","permalink":"/blog/tags/docusaurus"},{"label":"cssvarsprovider","permalink":"/blog/tags/cssvarsprovider"},{"label":"theme","permalink":"/blog/tags/theme"},{"label":"dark mode","permalink":"/blog/tags/dark-mode"},{"label":"light mode","permalink":"/blog/tags/light-mode"}],"readingTime":4.51,"hasTruncateMarker":true,"authors":[{"name":"Reap3r","title":"Developer","url":"https://github.com/Boston343","imageURL":"https://github.com/Boston343.png","key":"reap3r"}],"frontMatter":{"slug":"Guide to using Docusaurus with Material UI","title":"Guide: Docusaurus with Material UI","authors":["reap3r"],"tags":["material ui","material","docusaurus","cssvarsprovider","theme","dark mode","light mode"]}},"content":"import Container from \\"@mui/system/Container\\";\\r\\nimport Box from \\"@mui/system/Box\\";\\r\\nimport Card from \\"@mui/material/Card\\";\\r\\nimport Grid from \\"@mui/material/Grid\\";\\r\\nimport Typography from \\"@mui/material/Typography\\";\\r\\nimport {\\r\\n  Experimental_CssVarsProvider as CssVarsProvider,\\r\\n  experimental_extendTheme as extendTheme,\\r\\n} from \\"@mui/material/styles\\";\\r\\nimport theme from \\"@site/src/components/MuiTheme\\";\\r\\n\\r\\nAfter fighting Docusaurus and Material UI in the creation of this website - I decided to write a post explaining how to use them together so you don\'t have to go through the same struggle I did.\\r\\n\\r\\nimport meme from \\"./materialui-with-docusaurus.jpg\\";\\r\\n\\r\\n<div style={{ textAlign: \\"center\\" }}>\\r\\n  <img src={meme} alt=\\"Docusaurus with MUI meme\\" style={{ width: 500 }} />\\r\\n</div>\\r\\n\\r\\n\x3c!--truncate--\x3e\\r\\n\\r\\nThis post assumes you already have [Docusaurus](https://docusaurus.io/docs/installation) installed and started up using your favorite development environment.\\r\\n\\r\\n## Install Material UI\\r\\n\\r\\nInstall the MUI core.\\r\\n\\r\\n```bash\\r\\nnpm install @mui/material @emotion/react @emotion/styled\\r\\n```\\r\\n\\r\\n## Using Material UI Components\\r\\n\\r\\nOnce installed you can use the MUI components and other tools like normal. Import them, and use them in your `.jsx` and `.mdx` code. I used them to style the homepage.\\r\\n\\r\\n```jsx\\r\\nimport Container from \\"@mui/system/Container\\";\\r\\nimport Card from \\"@mui/material/Card\\";\\r\\nimport Grid from \\"@mui/material/Grid\\";\\r\\nimport Typography from \\"@mui/material/Typography\\";\\r\\n\\r\\n<Grid container justifyContent=\\"center\\" sx={{ paddingBottom: 8 }}>\\r\\n  <Grid item xs={12}>\\r\\n    <Card\\r\\n      variant=\\"outlined\\"\\r\\n      sx={{\\r\\n        textAlign: \\"center\\",\\r\\n        boxShadow: 3,\\r\\n      }}\\r\\n    >\\r\\n      <Typography variant=\\"h4\\">This is an example</Typography>\\r\\n    </Card>\\r\\n  </Grid>\\r\\n</Grid>;\\r\\n```\\r\\n\\r\\n<Grid container justifyContent=\\"center\\" sx={{ paddingBottom: 8 }}>\\r\\n  <Grid item xs={12}>\\r\\n    <Card\\r\\n      variant=\\"outlined\\"\\r\\n      sx={{\\r\\n        textAlign: \\"center\\",\\r\\n        boxShadow: 3,\\r\\n      }}\\r\\n    >\\r\\n      <Typography variant=\\"h4\\">This is an example</Typography>\\r\\n    </Card>\\r\\n  </Grid>\\r\\n</Grid>\\r\\n\\r\\nTry changing the color theme using the Docusaurus button. Notice how the above example does not change color depending on which color theme is chosen? Let\'s fix that.\\r\\n\\r\\n## Matching Docusaurus and MUI Theme\\r\\n\\r\\nThis was the fun part. I wanted to be able to make the MUI components update theme along with Docusaurus.\\r\\n\\r\\n### Material UI CSS Theme Variables\\r\\n\\r\\nFor integrating MUI theme with Docusaurus, I opted for using the MUI experimental [CSS Theme Variables](https://mui.com/material-ui/experimental-api/css-theme-variables/overview/). It allows you to create both your light and dark colors in the same theme, and switch between them using MUIs `setMode` from `useColorScheme`.\\r\\n\\r\\n### Create MUI Color Theme\\r\\n\\r\\nI first created my color scheme in a file I named `index.jsx` at `/src/components/MuiTheme/index.jsx`. Like MUIs `createTheme`, you only need to specify the variables you wish to change from default. A simplified theme is below.\\r\\n\\r\\n```jsx title=\\"/src/components/MuiTheme/index.jsx\\"\\r\\nimport { experimental_extendTheme as extendTheme } from \\"@mui/material/styles\\";\\r\\n\\r\\n// General MUI theme\\r\\nconst extTheme = extendTheme({\\r\\n  colorSchemes: {\\r\\n    light: {\\r\\n      palette: {\\r\\n        primary: {\\r\\n          main: \\"hsl(240, 48%, 47%)\\",\\r\\n        },\\r\\n      },\\r\\n    },\\r\\n    dark: {\\r\\n      palette: {\\r\\n        primary: {\\r\\n          main: \\"hsl(240, 90%, 70%)\\",\\r\\n        },\\r\\n      },\\r\\n    },\\r\\n  },\\r\\n});\\r\\n\\r\\nexport default extTheme;\\r\\n```\\r\\n\\r\\n### Docusaurus useColorMode\\r\\n\\r\\nOne of the important pieces of information we need from Docusaurus, is what the current color theme is. In order to get this, we can use the Docusaurus provided hook [useColorMode](https://docusaurus.io/docs/api/themes/configuration/#use-color-mode).\\r\\n\\r\\nAn important bit of information in their docs is that the component which calls `useColorMode` must be a child of the `Layout` component.\\r\\n\\r\\n:::info\\r\\n\\r\\nThis by default is inside the `Home` component at `/src/pages/index.js`\\r\\n\\r\\n:::\\r\\n\\r\\n### Syncing the Themes\\r\\n\\r\\nFirst, we need to import them MUI theme, and wrap it around the `Layout` component.\\r\\n\\r\\n```jsx title=\\"index.js\\"\\r\\nimport Layout from \\"@theme/Layout\\";\\r\\n// import your created theme\\r\\nimport theme from \\"@site/src/components/MuiTheme\\";\\r\\n\\r\\nexport default function Home() {\\r\\n  const { siteConfig } = useDocusaurusContext();\\r\\n  return (\\r\\n    <>\\r\\n      <CssVarsProvider theme={theme}>\\r\\n        <Layout\\r\\n          title={`Reap3r ${siteConfig.title}`}\\r\\n          description=\\"Documentation on web development tips, tools, and techniques. By Reap3r\\"\\r\\n          // description=\\"Description will go into a meta tag in <head />\\"\\r\\n        >\\r\\n          <HomepageHeader />\\r\\n          <main>\\r\\n            <HomepageCards />\\r\\n          </main>\\r\\n        </Layout>\\r\\n      </CssVarsProvider>\\r\\n    </>\\r\\n  );\\r\\n}\\r\\n```\\r\\n\\r\\nThen inside `HomepageHeader`, we can access the Docusaurus color mode, and use it to switch the MUI color theme.\\r\\n\\r\\n```jsx title=\\"index.js\\"\\r\\nfunction HomepageHeader() {\\r\\n  // colorMode holds the Docusaurus theme\\r\\n  const { colorMode } = useColorMode();\\r\\n\\r\\n  // MUI color mode setting\\r\\n  const { setMode } = useColorScheme();\\r\\n\\r\\n  // set Material UI theme based on Docusaurus theme\\r\\n  useEffect(() => {\\r\\n    // useEffect: https://www.w3schools.com/react/react_useeffect.asp\\r\\n    // added useEffect because I was getting an error https://stackoverflow.com/questions/62336340/cannot-update-a-component-while-rendering-a-different-component-warning\\r\\n    setMode(colorMode === \\"dark\\" ? \\"dark\\" : \\"light\\");\\r\\n  }, [colorMode]);\\r\\n\\r\\n  return <header> your themed MUI components here... </header>;\\r\\n}\\r\\n```\\r\\n\\r\\n## Using MUI Them Elsewhere\\r\\n\\r\\nNow that the themes sync, we can use that synced theme anywhere on the site! Including this blog section. All we need to do is import our theme, and wrap items in `<CssVarsProvider>`. You can even reference your theme variables from within the components. Below I added using the `primary.main` color for the text (which changes between dark and light mode).\\r\\n\\r\\n```jsx title=\\"This blog post\\"\\r\\nimport Container from \\"@mui/system/Container\\";\\r\\nimport Card from \\"@mui/material/Card\\";\\r\\nimport Grid from \\"@mui/material/Grid\\";\\r\\nimport Typography from \\"@mui/material/Typography\\";\\r\\nimport { Experimental_CssVarsProvider as CssVarsProvider } from \\"@mui/material/styles\\";\\r\\nimport theme from \\"@site/src/components/MuiTheme\\";\\r\\n\\r\\n<CssVarsProvider theme={theme}>\\r\\n  <Grid container justifyContent=\\"center\\" sx={{ paddingBottom: 8 }}>\\r\\n    <Grid item xs={12}>\\r\\n      <Card\\r\\n        variant=\\"outlined\\"\\r\\n        sx={{\\r\\n          textAlign: \\"center\\",\\r\\n          boxShadow: 3,\\r\\n        }}\\r\\n      >\\r\\n        <Typography variant=\\"h4\\">This is an example</Typography>\\r\\n      </Card>\\r\\n    </Grid>\\r\\n  </Grid>\\r\\n</CssVarsProvider>;\\r\\n```\\r\\n\\r\\n<CssVarsProvider theme={theme}>\\r\\n  <Grid container justifyContent=\\"center\\" sx={{ paddingBottom: 8 }}>\\r\\n    <Grid item xs={12}>\\r\\n      <Card\\r\\n        variant=\\"outlined\\"\\r\\n        sx={{\\r\\n          textAlign: \\"center\\",\\r\\n          boxShadow: 3,\\r\\n        }}\\r\\n      >\\r\\n        <Typography variant=\\"h4\\" sx={{ color: \\"primary.main\\" }}>\\r\\n          This is an example\\r\\n        </Typography>\\r\\n      </Card>\\r\\n    </Grid>\\r\\n  </Grid>\\r\\n</CssVarsProvider>\\r\\n\\r\\nNow try changing the color theme using the Docusaurus button. Notice how the above example **DOES** change color depending on which color theme is chosen?\\r\\n\\r\\nimport meme2 from \\"./theme-synced.jpg\\";\\r\\n\\r\\n<div style={{ textAlign: \\"center\\" }}>\\r\\n  <img src={meme2} alt=\\"Theme synced meme\\" style={{ width: 500 }} />\\r\\n</div>\\r\\n\\r\\n## Further Documentation\\r\\n\\r\\nFor further details on MUIs CSS theme variables, see their **[documentation](https://mui.com/material-ui/experimental-api/css-theme-variables/customization/)**\\r\\n\\r\\nimport CallingCard from \\"@site/src/components/CallingCard\\";\\r\\n\\r\\n<CallingCard />"}]}')}}]);